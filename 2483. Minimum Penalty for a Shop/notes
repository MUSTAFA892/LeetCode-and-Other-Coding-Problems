# ðŸŸ¢ APPROACH 1 â€” **O(n) efficient running penalty update**

```python
class Solution:
    def bestClosingTime(self, customers: str) -> int:
        total_penalty = customers.count('Y')
        min_penalty = total_penalty
        best = 0
                
        for i in range(len(customers)):
            if customers[i] == 'Y':
                total_penalty -= 1
            else:
                total_penalty += 1  

            if total_penalty < min_penalty:
                min_penalty = total_penalty
                best = i + 1

        return best
```

---

## ðŸ§  IDEA (simple words)

### Step 1

Assume the shop closes at **hour 0** (never opens).

Then:

* every `'Y'` causes penalty
* every `'N'` causes no penalty

So initial penalty =

```
number of Yâ€™s
```

---

### Step 2

Now move closing time hour-by-hour to the right.

When we pass an hour:

| Character | Meaning                    | Effect on penalty |
| --------- | -------------------------- | ----------------- |
| `'Y'`     | customer now served (open) | penalty âˆ’ 1       |
| `'N'`     | shop now open for nobody   | penalty + 1       |

So we update `total_penalty`.

---

### Step 3

Whenever penalty becomes smaller than before,
save:

```
best hour = i + 1
```

Because after hour i, shop closes.

---

# ðŸ§ª DRY-RUN ON `"YYNY"`

Initial:

```
total_penalty = count('Y') = 3
min_penalty = 3
best = 0
```

---

## ðŸ”¹ Hour 0 â†’ 'Y'

Customer now served â†’ penalty âˆ’1

```
total_penalty = 2
```

Compare:

```
2 < 3 â†’ yes
min_penalty = 2
best = 1   (close at hour 1)
```

---

## ðŸ”¹ Hour 1 â†’ 'Y'

Penalty âˆ’1 again

```
total_penalty = 1
```

Compare:

```
1 < 2 â†’ yes
best = 2   (close at hour 2)
```

---

## ðŸ”¹ Hour 2 â†’ 'N'

Penalty +1

```
total_penalty = 2
```

Compare:

```
2 < 1 â†’ no
(best stays 2)
```

---

## ðŸ”¹ Hour 3 â†’ 'Y'

Penalty âˆ’1

```
total_penalty = 1
```

Compare:

```
1 < 1 â†’ no (strictly less needed)
```

So **earliest** hour with penalty=1 stays at **2**.

---

# ðŸŽ¯ FINAL RESULT

```
best = 2
```

---

# â± Complexity

```
O(n) time
O(1) space
```

Fast & optimal.

---

---

# ðŸ”µ APPROACH 2 â€” **Brute force checking every closing hour**

```python
class Solution:
    def bestClosingTime(self, customers: str) -> int:
        state = [0] * (len(customers))
        min_penalty_idx = []
        min_penalty = float('inf')

        for i in range(len(customers) + 1):
            penalty = 0

            for j in range(len(customers)):
                if j < i: 
                    if customers[j] == 'N':
                        penalty += 1
                else:       
                    if customers[j] == 'Y':
                        penalty += 1

            min_penalty = min(min_penalty, penalty)
            min_penalty_idx.append(penalty)

        return min_penalty_idx.index(min_penalty)
```

---

## ðŸ§  IDEA (simple words)

Here you literally **try every possible closing hour**:

```
close at 0
close at 1
close at 2
...
close at n
```

For each closing time `i`

* Hours **0 â†’ i-1**  = OPEN
  Bad case = `'N'`

* Hours **i â†’ n-1**  = CLOSED
  Bad case = `'Y'`

Count penalties
Store in a list
Return the earliest index with the smallest penalty

---

# ðŸ§ª DRY-RUN ON `"YYNY"`

Hours:
0:Y  1:Y  2:N  3:Y

---

## ðŸ”¹ Close at 0

All hours CLOSED
Bad when `'Y'`

Y Y N Y  â†’ 3 penalties

```
penalty = 3
```

---

## ðŸ”¹ Close at 1

Hour0 OPEN
Rest CLOSED

Hour0 open + Y â†’ OK
Hour1 closed + Y â†’ +1
Hour2 closed + N â†’ OK
Hour3 closed + Y â†’ +1

```
penalty = 2
```

---

## ðŸ”¹ Close at 2

Hours0-1 OPEN
Hours2-3 CLOSED

Hour0 open + Y â†’ OK
Hour1 open + Y â†’ OK
Hour2 closed + N â†’ OK
Hour3 closed + Y â†’ +1

```
penalty = 1
```

---

## ðŸ”¹ Close at 3

Hours0-2 OPEN
Hour3 CLOSED

Hour2 open + N â†’ +1
Hour3 closed + Y â†’ +1

```
penalty = 2
```

---

## ðŸ”¹ Close at 4

All OPEN

Only
Hour2 open + N â†’ +1

```
penalty = 1
```

---

# ðŸ“Š Penalty List

```
[3, 2, 1, 2, 1]
```

Minimum = 1
Earliest index = **2**

---

# ðŸŽ¯ FINAL RESULT

```
2
```

---

# â± Complexity

```
O(nÂ²) time
O(n) space
```

Slower â€” but easy to understand.
